## Практическое задание

Закрепите полученные знания, выполнив практическую работу. Оба задания обязательны для выполнения и сдачи на проверку.

### Цель практической работы

**Закрепить знания:**
- принципов и механизмов работы тестового фреймворка junit;
- флоу выполнения тестов и прохождения проверок;
- принципов модульного тестирования со стороны тестового фреймворка.

**Научиться:**
- создавать свои собственные реализации фреймворка для выполнения тестов и проверок;
- создавать свои собственные аннотации и логику их обработки для выполнения тестов.

### Что нужно сделать

Реализуйте аналог системы запуска тестов JUnit. Для выполнения этого задания используйте проект из практической работы 13.1, в GitLab — директория **QA**. 

### Задание 1

Реализуйте runner для тестов.

Создайте аннотации `@Test`, `@Before`, `@After` со следующими параметрами:
- `@Retention(RetentionPolicy.RUNTIME);`
- `@Target(ElementType.METHOD)`, можно поставить только над методами.

Создайте класс **Runner**.

**Runner** должен иметь один публичный статический метод `public static void run (String packageName)`, 
в который в качестве аргумента передаётся название пакета с тестами, который нужно просканировать.

Runner должен выполнять следующую логику:
- пройтись по всем классам в заданном пакете и найти классы, над методами которых есть аннотации @Test, @Before, @After;
- создать экземпляры найденных классов (классы с тестами обычно имеют только один конструктор: по умолчанию);
- для каждого из созданных экземпляров выполнить методы @Before, если они есть, затем все методы с аннотацией @Test, затем — методы @After.

Для сканирования пакета с классами можно воспользоваться библиотекой reflections. Для подключения через maven нужно добавить зависимость:
```xml
<dependency>
            <groupId>org.reflections</groupId>
            <artifactId>reflections</artifactId>
            <version>0.10.2</version>
</dependency>
```

После выполнения задания у вас должны быть созданы аннотации @Test, @Before, @After с нужными параметрами, создан класс Runner, умеющий выполнять методы у классов, которые помечены аннотациями @Test, @Before, @After.

### Задание 2

Реализуйте библиотеку проверок.

Создайте класс `Assertions` со следующими статическими методами:
- `assertEquals(expected, actual, message)`
- `assertNotEquals(expected, actual, message)`

Создайте класс `AssertionException extends Exception`, который содержит сообщение об ошибке проверки следующего вида: «Expected <value>, but was <value>».

Если проверка не прошла, то методы должны выбрасывать AssertionException.

После выполнения задания должен быть создан класс Assertions и реализованы статические методы проверок, создано исключение AssertionException, которое пробрасывается в случае неуспешного прохождения теста.

### Задание 3

Доработайте класс Runner.

Если при выполнении теста произошла `AssertionException`, то Runner должен её перехватить 
и вывести в консоль сообщение `Test <method name> failed: <reason>`.

Если тест выполнен успешно, Runner должен вывести сообщение `Test <method name> passed`.

После выполнения всех тестов Runner должен вывести сообщение: `Tests passed: <count>, Tests failed: <count>`.

Для проверки работы написанного кода можно воспользоваться проектом Example: 

проект содержит класс `Calculator` и тест для него — `CalculatorTest`. Для запуска тестов можно использовать класс `TestsEntrypoint`.

После выполнения задания класс Runner должен отлавливать AssertionException и выводить сообщение о неуспешном тесте. 
После выполнения всех тестов класс Runner должен выводить статистику о количестве успешных и неуспешных тестов.

### Критерии оценки задания

**Принято:**

- Выполнены все три задания практической работы.
- В заданиях выполнены все указанные требования: созданы реализации `Runner`, `Assertions`.
- Все методы работают без ошибок, код компилируется.


**На доработку:** задание не выполнено, выполнено неточно или частично.

### Как отправить работу на проверку

Сдайте практическую работу этого модуля через систему контроля версий Git сервиса Skillbox GitLab. 
В нижнем поле практической работы напишите «Сделано» и прикрепите ссылку на репозиторий. Ссылки на реплит оставлять не нужно.
